<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Mini Booking</title>
  <style>
    body{font-family:Arial, sans-serif;margin:24px}
    .row{display:flex;gap:16px;flex-wrap:wrap}
    .card{border:1px solid #ccc;padding:12px;border-radius:8px;min-width:260px;flex:1}
    label{display:block;margin:8px 0}
    input,select{padding:6px}
    button{padding:6px 10px;cursor:pointer}
    pre{background:#f6f6f6;padding:10px;border-radius:6px;overflow:auto}
    .muted{opacity:.75}
  </style>
</head>
<body>
  <h1>Mini Booking</h1>

  <!-- Connexion -->
  <div class="card">
    <h3>Connexion</h3>
    <form id="loginForm">
      <label>Email : <input id="emailInput" placeholder="alice@example.com"></label>
      <button>Se connecter</button>
    </form>
    <div class="muted">Connecté : <b id="who">aucun</b></div>
  </div>

  <div class="row">
    <!-- Services -->
    <div class="card">
      <h3>Services</h3>
      <button id="btnLoadServices">Charger</button>
      <pre id="svcBox">[vide]</pre>
    </div>

    <!-- Réserver -->
    <div class="card">
      <h3>Réserver</h3>
      <form id="bookForm">
        <label>Slot ID : <input id="slotIdInput" placeholder="slt_..."></label>
        <button>Réserver</button>
      </form>
      <small class="muted">
        Astuce : après avoir ajouté un créneau (admin), copie l’<b>ID</b> retourné ici.
      </small>
    </div>

    <!-- Mes réservations -->
    <div class="card">
      <h3>Mes réservations</h3>
      <button id="btnLoadMyRes">Actualiser</button>
      <pre id="resBox">[vide]</pre>
      <form id="cancelForm">
        <label>Reservation ID : <input id="resIdInput" placeholder="res_..."></label>
        <button>Annuler</button>
      </form>
    </div>
  </div>

  <!-- Admin ultra simple -->
  <div class="card">
    <h3>Admin (email requis : admin@example.com)</h3>
    <form id="addSvcForm" class="row">
      <label>Nom : <input id="svcName" placeholder="Massage"></label>
      <label>Description : <input id="svcDesc" placeholder="30 min"></label>
      <label>Durée (min) : <input id="svcDur" type="number" min="0" placeholder="30"></label>
      <button>Créer service</button>
    </form>

    <form id="addSlotForm" class="row">
      <label>Service ID : <input id="slotSvcId" placeholder="svc_..."></label>
      <label>Datetime (RFC3339) : <input id="slotDt" placeholder="2025-12-20T14:00:00Z"></label>
      <label>Capacité : <input id="slotCap" type="number" min="1" value="1"></label>
      <button>Ajouter créneau</button>
    </form>

    <pre id="adminOut" class="muted">[retours admin s’affichent ici]</pre>
  </div>

  <script src="js/app.js"></script>
</body>
</html>